# Project Settings
PROJECT_NAME=Traffic Safety API
VERSION=0.1.0
DEBUG=true
BASE_URL=http://localhost:8000

# Trino Database Configuration
TRINO_HOST=smart-cities-trino.pre-prod.cloud.vtti.vt.edu
TRINO_PORT=443
TRINO_HTTP_SCHEME=https
TRINO_CATALOG=smartcities_iceberg

# Trino Authentication (choose ONE method)
# Method 1: Basic Authentication (if supported by your Trino server)
# TRINO_USERNAME=your_username
# TRINO_PASSWORD=your_password

# Method 2: JWT Token (if supported by your Trino server)
# TRINO_JWT_TOKEN=your_jwt_token_here

# Method 3: OAuth2 (default - requires browser for initial login)
# No additional config needed - token is cached in ~/.trino/

# Safety Index Computation Settings
EMPIRICAL_BAYES_K=50
DEFAULT_LOOKBACK_DAYS=7

# VCC API Configuration
VCC_BASE_URL=https://vcc.vtti.vt.edu
VCC_CLIENT_ID=your_client_id_here
VCC_CLIENT_SECRET=your_client_secret_here
DATA_SOURCE=vcc
PARQUET_STORAGE_PATH=data/parquet
REALTIME_ENABLED=true

# PostgreSQL + PostGIS Configuration
DATABASE_URL=postgresql://trafficsafety:trafficsafety_dev@localhost:5433/trafficsafety
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# Feature Flags for PostgreSQL Migration
USE_POSTGRESQL=false
FALLBACK_TO_PARQUET=true
ENABLE_DUAL_WRITE=false

# GCP Cloud Storage Configuration
# Leave empty or set to false to disable GCS uploads
GCS_BUCKET_NAME=
GCS_PROJECT_ID=
ENABLE_GCS_UPLOAD=false
# Path to GCP service account JSON key file (relative to backend/ directory)
GOOGLE_APPLICATION_CREDENTIALS=/app/secrets/gcp-service-account.json

# ============================================================================
# Data Plugin System Configuration
# ============================================================================
# Enable the plugin-based data source architecture
# When enabled, data sources (VCC, weather, etc.) use the plugin framework
ENABLE_DATA_PLUGINS=false

# VCC Plugin Configuration
# Use VCC as a plugin instead of legacy hard-coded client
USE_VCC_PLUGIN=false
# Weight of VCC features in safety index (must sum to 1.0 with other plugins)
VCC_PLUGIN_WEIGHT=0.70

# Weather Plugin Configuration
# Enable NOAA/NWS weather data integration
ENABLE_WEATHER_PLUGIN=false
# Weight of weather features in safety index
WEATHER_PLUGIN_WEIGHT=0.15
# NOAA weather station ID (KRIC = Richmond International Airport)
# Find stations at: https://www.weather.gov/
WEATHER_STATION_ID=KRIC
# NOAA API base URL (should not need to change)
WEATHER_API_BASE=https://api.weather.gov
# Weather API request timeout (seconds)
WEATHER_API_TIMEOUT=10
# Number of retry attempts for weather API failures
WEATHER_RETRY_ATTEMPTS=3

# Note: Plugin weights should sum to approximately 1.0
# Example: VCC (0.70) + Weather (0.15) + Future plugins (0.15) = 1.0
